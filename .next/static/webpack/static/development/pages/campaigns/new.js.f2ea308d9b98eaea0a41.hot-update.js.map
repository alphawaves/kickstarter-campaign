{"version":3,"file":"static/webpack/static/development/pages/campaigns/new.js.f2ea308d9b98eaea0a41.hot-update.js","sources":["webpack:///./pages/campaigns/new.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Input, Message } from \"semantic-ui-react\";\nimport factory from \"../../ethereum/factory\";\nimport web3 from \"../../ethereum/web3\";\n\n// class CampaignNew extends Component {\n//     render() {\n//         return (\n//             <div>\n//                 <h3>Create a Campaign</h3>\n//                 <Form>\n//                     <Form.Field>\n//                         <label>Minimum Contribution</label>\n//                         <Input label=\"wei\" labelPosition=\"right\" />\n//                     </Form.Field>\n//                     <Button primary>Create!</Button>\n//                 </Form>\n//             </div>\n//         )\n//     }\n// }\n\nconst CampaignNew = () => {\n  const [minimumContribution, setMinimumContribution] = useState(0);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    setMinimumContribution(e.target.value);\n  }\n\n  const handleSubmit = async (e) => {\n      e.preventDefault();\n      setLoading(true)\n\n      try {\n        const accounts = await web3.eth.getAccounts()\n\n        await factory.methods.createCampaign(minimumContribution).send({\n            from: accounts[0]\n        })\n      } catch(e) {\n          console.log('an error')\n          console.log(e.message)\n          setErrorMessage(e.message)\n      }\n\n      setLoading(false)\n  }\n\n  return (\n    <div>\n      <h3>Create a Campaign</h3>\n      <Form onSubmit={handleSubmit} error={!!errorMessage}>\n        <Form.Field>\n          <label>Minimum Contribution</label>\n          <Input\n            label=\"wei\"\n            labelPosition=\"right\"\n            value={minimumContribution}\n            onChange={handleChange}\n            />\n        </Form.Field>\n        <Message error header=\"Oops!\" content={errorMessage} />\n        <Button loading={loading} primary>Create!</Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default CampaignNew;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AAQA;AADA;AACA;AARA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAkBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}